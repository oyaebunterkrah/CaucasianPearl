@using CaucasianPearl.Core.Constants
@using Resources.ContentBlock
@using Resources.Shared

@model CaucasianPearl.Models.EDM.ContentBlock

@{
    ViewBag.Title = string.Format("{0} | {1}", ContentBlockViewRes.ContentBlockEditing, Consts.Title);
}

<script src="@Url.Content("~/content/js/sys/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/content/js/sys/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content(Consts.JsPaths.CKEditor)" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        replaceByCKEditor('@Url.Content(Consts.JsPaths.CKEditorConfig)', 'Content', 'submit');
    });
</script>

<p>
    @Html.ActionLink(
        linkText: SharedViewRes.Cancel,
        actionName: Consts.Actions.Details,
        controllerName: Consts.Controllers.ContentBlock.Name,
        routeValues: new
        {
            id = Model.ID,
            page = Request.QueryString["page"]
        },
        htmlAttributes: new { @class = "link" })
</p>

<h2>@ContentBlockViewRes.ContentBlockEditing</h2>

<br />

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>@ContentBlockViewRes.ContentBlocks</legend>

        @Html.HiddenFor(model => model.ID)
		@Html.Partial(Consts.Views.CreateOrEdit, Model)

        <input id="submit" type="submit" value="@SharedViewRes.Save" />
    </fieldset>
}