(function (e) { Galleria.addTheme({ name: "classic", author: "Galleria", css: "galleria.classic.css", defaults: { transition: "slide", thumbCrop: "height", _toggleInfo: true }, init: function (t) { Galleria.requires(1.28, "This version of Classic theme requires Galleria 1.2.8 or later"); this.addElement("info-link", "info-close", "close-bg"); this.append({ info: ["info-link", "info-close"] }); var n = this.$("info-link,info-close,info-text"), r = Galleria.TOUCH, i = r ? "touchstart" : "click"; this.append({ stage: "close-bg" }); this.$("close-bg").bind("click", function () { history.go(-1); }); this.$("loader,counter").show().css("opacity", .4); if (!r) { this.addIdleState(this.get("image-nav-left"), { left: -50 }); this.addIdleState(this.get("image-nav-right"), { right: -50 }); this.addIdleState(this.get("counter"), { opacity: 0 }); this.addIdleState(this.get("close-bg"), { opacity: 0 }) } if (t._toggleInfo === true) { n.bind(i, function () { n.toggle() }) } else { n.show(); this.$("info-link, info-close").hide() } this.bind("thumbnail", function (t) { if (!r) { e(t.thumbTarget).css("opacity", .6).parent().hover(function () { e(this).not(".active").children().stop().fadeTo(100, 1) }, function () { e(this).not(".active").children().stop().fadeTo(400, .6) }); if (t.index === this.getIndex()) { e(t.thumbTarget).css("opacity", 1) } } else { e(t.thumbTarget).css("opacity", this.getIndex() ? 1 : .6) } }); this.bind("loadstart", function (t) { if (!t.cached) { this.$("loader").show().fadeTo(200, .4) } this.$("info").toggle(this.hasInfo()); e(t.thumbTarget).css("opacity", 1).parent().siblings().children().css("opacity", .6) }); this.bind("loadfinish", function () { this.$("loader").fadeOut(200) }) } }) })(jQuery)